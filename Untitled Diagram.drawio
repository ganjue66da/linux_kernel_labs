<mxfile host="app.diagrams.net" modified="2021-12-27T03:11:24.422Z" agent="5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36" etag="sT2Fu0KkgUBlOTSTLMQF" version="15.9.6" type="github" pages="3">
  <diagram id="2Nv8tBa7N8BT5brDQEJB" name="achievement">
    <mxGraphModel dx="3044" dy="724" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-1" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontStyle=5;align=center;pointerEvents=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="-1290" y="80" width="1180" height="467" as="geometry" />
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-2" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-1" vertex="1">
          <mxGeometry width="1180" height="47" as="geometry" />
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-3" value="&lt;span style=&quot;font-size: 12px ; text-align: center&quot;&gt;1-6 内核模块传参&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-2" vertex="1">
          <mxGeometry width="275" height="47" as="geometry">
            <mxRectangle width="275" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-4" value="&lt;a href=&quot;https://tldp.org/LDP/lkmpg/2.6/html/x323.html&quot;&gt;https://tldp.org/LDP/lkmpg/2.6/html/x323.html&lt;/a&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-2" vertex="1">
          <mxGeometry x="275" width="585" height="47" as="geometry">
            <mxRectangle width="585" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-5" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-2" vertex="1">
          <mxGeometry x="860" width="320" height="47" as="geometry">
            <mxRectangle width="320" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-6" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-1" vertex="1">
          <mxGeometry y="47" width="1180" height="59" as="geometry" />
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-7" value="&lt;span style=&quot;font-size: 12px ; text-align: center&quot;&gt;1-7 进程task_struct*p&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-6" vertex="1">
          <mxGeometry width="275" height="59" as="geometry">
            <mxRectangle width="275" height="59" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-8" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/ganjue66da/linux_kernel_labs/tree/main/skels/kernel_modules/7-list-proc&quot;&gt;https://github.com/ganjue66da/linux_kernel_labs/tree/main/skels/kernel_modules/7-list-proc&lt;/a&gt;&lt;br&gt;&lt;/div&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-6" vertex="1">
          <mxGeometry x="275" width="585" height="59" as="geometry">
            <mxRectangle width="585" height="59" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-9" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-6" vertex="1">
          <mxGeometry x="860" width="320" height="59" as="geometry">
            <mxRectangle width="320" height="59" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-10" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-1" vertex="1">
          <mxGeometry y="106" width="1180" height="314" as="geometry" />
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-11" value="1-8-kdb" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-10" vertex="1">
          <mxGeometry width="275" height="314" as="geometry">
            <mxRectangle width="275" height="314" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-12" value="make boot&lt;br&gt;minicom -D series.pts&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;echo hvc0 &amp;gt; /sys/module/kgdboc/parameters/kgdboc&lt;br&gt;&lt;/span&gt;cd 8-kdb&lt;br&gt;insmod hello_kdb.ko&lt;br&gt;echo 1 &amp;gt; /proc/hello_kdb_bug&lt;br&gt;此时会进入kdb模式&lt;br&gt;lsmod读取进程live地址&lt;br&gt;在gdb中输入&lt;span style=&quot;font-size: 10px&quot;&gt;add-symbol-file ~/vm_linux/linux/tools/labs/skels/kernel_modules/8-kdb/hello_kdb.ko 0&lt;/span&gt;&lt;span&gt;xd0864000&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;在kdb中输入tb 在traceback中找到调用信息&lt;br&gt;i line *&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;dummy_func1+0x8/0x8&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;（此处填函数或地址）&lt;br&gt;显示出问题语句行数&lt;br&gt;&lt;br&gt;关于struct proc_dir_entry&lt;a href=&quot;https://blog.csdn.net/sty23122555/article/details/51638697&quot;&gt;https://blog.csdn.net/sty23122555/article/details/51638697&lt;/a&gt;&lt;br&gt;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-10" vertex="1">
          <mxGeometry x="275" width="585" height="314" as="geometry">
            <mxRectangle width="585" height="314" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-13" value="&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;dump_stack+0x6d/0x8b&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;panic+0xb2/0x266&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;? dummy_func1+0x8/0x8 [hello_kdb]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;dummy_func18+0xd/0xd [hello_kdb]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;dummy_func17+0x8/0x8 [hello_kdb]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;dummy_func16+0x8/0x8 [hello_kdb]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;dummy_func15+0x8/0x8 [hello_kdb]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;dummy_func14+0x8/0x8 [hello_kdb]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;此例子中func1嵌套调用到func18&lt;/div&gt;&lt;div&gt;tb后先输出了func1，其次输出了func18，&lt;/div&gt;&lt;div&gt;其中panic函数出现在func18&lt;/div&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-10" vertex="1">
          <mxGeometry x="860" width="320" height="314" as="geometry">
            <mxRectangle width="320" height="314" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-1" vertex="1">
          <mxGeometry y="420" width="1180" height="47" as="geometry" />
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-15" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-14" vertex="1">
          <mxGeometry width="275" height="47" as="geometry">
            <mxRectangle width="275" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-16" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-14" vertex="1">
          <mxGeometry x="275" width="585" height="47" as="geometry">
            <mxRectangle width="585" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DjYXvXNdv97Wl0VyBLQK-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=10;align=left;" parent="DjYXvXNdv97Wl0VyBLQK-14" vertex="1">
          <mxGeometry x="860" width="320" height="47" as="geometry">
            <mxRectangle width="320" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-1" value="Table" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;pointerEvents=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="10" width="650" height="497" as="geometry" />
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-2" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="0xNGgfO1WyL0FgAi1zCo-1" vertex="1">
          <mxGeometry y="30" width="650" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-3" value="&lt;pre style=&quot;box-sizing: border-box ; font-family: , &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;liberation mono&amp;#34; , &amp;#34;courier new&amp;#34; , &amp;#34;courier&amp;#34; , monospace ; line-height: 1.4 ; max-height: none ; overflow: auto ; margin-top: 0px ; margin-bottom: 0px ; padding: 12px&quot;&gt;cat /proc/modules&lt;/pre&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-2" vertex="1">
          <mxGeometry width="217" height="40" as="geometry">
            <mxRectangle width="217" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-4" value="输出模块信息" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-2" vertex="1">
          <mxGeometry x="217" width="216" height="40" as="geometry">
            <mxRectangle width="216" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-5" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-2" vertex="1">
          <mxGeometry x="433" width="217" height="40" as="geometry">
            <mxRectangle width="217" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-6" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="0xNGgfO1WyL0FgAi1zCo-1" vertex="1">
          <mxGeometry y="70" width="650" height="214" as="geometry" />
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-7" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-6" vertex="1">
          <mxGeometry width="217" height="214" as="geometry">
            <mxRectangle width="217" height="214" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-8" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-6" vertex="1">
          <mxGeometry x="217" width="216" height="214" as="geometry">
            <mxRectangle width="216" height="214" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-9" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-6" vertex="1">
          <mxGeometry x="433" width="217" height="214" as="geometry">
            <mxRectangle width="217" height="214" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-10" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="0xNGgfO1WyL0FgAi1zCo-1" vertex="1">
          <mxGeometry y="284" width="650" height="213" as="geometry" />
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-11" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-10" vertex="1">
          <mxGeometry width="217" height="213" as="geometry">
            <mxRectangle width="217" height="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-12" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-10" vertex="1">
          <mxGeometry x="217" width="216" height="213" as="geometry">
            <mxRectangle width="216" height="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0xNGgfO1WyL0FgAi1zCo-13" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;" parent="0xNGgfO1WyL0FgAi1zCo-10" vertex="1">
          <mxGeometry x="433" width="217" height="213" as="geometry">
            <mxRectangle width="217" height="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="BBMxxeeEchxgctj_FWzU" name="questions">
    <mxGraphModel dx="1390" dy="724" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="ueqvzUvDBRW681NDxKHG-0" />
        <mxCell id="ueqvzUvDBRW681NDxKHG-1" parent="ueqvzUvDBRW681NDxKHG-0" />
        <mxCell id="fYQm1WL6vumKPO3vuypY-0" value="some hard" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;pointerEvents=1;" parent="ueqvzUvDBRW681NDxKHG-1" vertex="1">
          <mxGeometry x="70" y="740" width="1200" height="450" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-1" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=left;" parent="fYQm1WL6vumKPO3vuypY-0" vertex="1">
          <mxGeometry y="30" width="1200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-2" value="&lt;span style=&quot;text-align: center&quot;&gt;intruction:&lt;/span&gt;&lt;h3 style=&quot;text-align: center ; box-sizing: border-box ; margin-top: 0px&quot;&gt;Adding and using a virtual disk&lt;/h3&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-1" vertex="1">
          <mxGeometry width="240" height="50" as="geometry">
            <mxRectangle width="240" height="50" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-3" value="&lt;div&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;mkdir /test&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;mount /dev/vdd /test&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font size=&quot;3&quot;&gt;mount: mounting /dev/vdd1/ on /test failed: Not a directory&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-1" vertex="1">
          <mxGeometry x="240" width="634" height="50" as="geometry">
            <mxRectangle width="634" height="50" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-4" value="&lt;span style=&quot;font-family: serif ; font-size: 16px ; background-color: rgb(219 , 250 , 244)&quot;&gt;&amp;nbsp;Run&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;command&quot; style=&quot;box-sizing: border-box ; font-weight: 700 ; font-family: serif ; font-size: 16px ; background-color: rgb(219 , 250 , 244)&quot;&gt;make menuconfig&lt;/span&gt;&lt;span style=&quot;font-family: serif ; font-size: 16px ; background-color: rgb(219 , 250 , 244)&quot;&gt;&amp;nbsp;and go to the&amp;nbsp;&lt;/span&gt;&lt;em style=&quot;box-sizing: border-box ; font-family: serif ; font-size: 16px ; background-color: rgb(219 , 250 , 244)&quot;&gt;File systems&lt;/em&gt;&lt;span style=&quot;font-family: serif ; font-size: 16px ; background-color: rgb(219 , 250 , 244)&quot;&gt;&amp;nbsp;section. Enable&amp;nbsp;&lt;/span&gt;&lt;em style=&quot;box-sizing: border-box ; font-family: serif ; font-size: 16px ; background-color: rgb(219 , 250 , 244)&quot;&gt;Btrfs filesystem support&lt;/em&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-1" vertex="1">
          <mxGeometry x="874" width="326" height="50" as="geometry">
            <mxRectangle width="326" height="50" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-5" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=left;" parent="fYQm1WL6vumKPO3vuypY-0" vertex="1">
          <mxGeometry y="80" width="1200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-6" value="&lt;span style=&quot;text-align: center&quot;&gt;lab1-6&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-5" vertex="1">
          <mxGeometry width="240" height="80" as="geometry">
            <mxRectangle width="240" height="80" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-7" value="&lt;span style=&quot;font-family: serif ; text-align: center ; background-color: rgb(252 , 252 , 252)&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;Try to unload the kernel module. Notice that the operation does not work because there are references from the kernel module within the kernel since the oops; Until the release of those references (which is almost impossible in the case of an oops), the module can not be unloaded.&lt;/font&gt;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-5" vertex="1">
          <mxGeometry x="240" width="634" height="80" as="geometry">
            <mxRectangle width="634" height="80" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-8" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-5" vertex="1">
          <mxGeometry x="874" width="326" height="80" as="geometry">
            <mxRectangle width="326" height="80" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-9" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=left;" parent="fYQm1WL6vumKPO3vuypY-0" vertex="1">
          <mxGeometry y="160" width="1200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-10" value="lab1 8-kdb&lt;span style=&quot;white-space: pre&quot;&gt; &lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-9" vertex="1">
          <mxGeometry width="240" height="120" as="geometry">
            <mxRectangle width="240" height="120" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-11" value="使用make gdb去调试虚拟机时，虚拟机卡死，无法调试" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-9" vertex="1">
          <mxGeometry x="240" width="634" height="120" as="geometry">
            <mxRectangle width="634" height="120" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-12" value="1. 在.config中添加CONFIG_KGDB_KDB并没有解决问题&lt;br&gt;2. 在make menuconfig里打开64-bit kernel选项，gdb可以进行调试，但是虚拟机启动出现问题&lt;br&gt;3.去掉&lt;font color=&quot;#c7254e&quot; face=&quot;Source Code Pro, DejaVu Sans Mono, Ubuntu Mono, Anonymous Pro, Droid Sans Mono, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, PingFang SC, Microsoft YaHei, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 14px ; background-color: rgb(249 , 242 , 244)&quot;&gt;64-bit kernel选项，在quem.sh中将qemu-system-x84_64换成qemu-system-i386最终得以解决&lt;/span&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-9" vertex="1">
          <mxGeometry x="874" width="326" height="120" as="geometry">
            <mxRectangle width="326" height="120" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-13" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=left;" parent="fYQm1WL6vumKPO3vuypY-0" vertex="1">
          <mxGeometry y="280" width="1200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-14" value="gdb monitor" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-13" vertex="1">
          <mxGeometry width="240" height="40" as="geometry">
            <mxRectangle width="240" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-15" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-13" vertex="1">
          <mxGeometry x="240" width="634" height="40" as="geometry">
            <mxRectangle width="634" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-16" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-13" vertex="1">
          <mxGeometry x="874" width="326" height="40" as="geometry">
            <mxRectangle width="326" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=left;" parent="fYQm1WL6vumKPO3vuypY-0" vertex="1">
          <mxGeometry y="320" width="1200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-18" value="qemu and gdb" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-17" vertex="1">
          <mxGeometry width="240" height="90" as="geometry">
            <mxRectangle width="240" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-19" value="&lt;a href=&quot;https://linux-kernel-labs.github.io/refs/heads/master/labs/introduction.html&quot;&gt;https://linux-kernel-labs.github.io/refs/heads/master/labs/introduction.html&lt;/a&gt;&lt;br&gt;设置break sys_access后，并不能中断" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-17" vertex="1">
          <mxGeometry x="240" width="634" height="90" as="geometry">
            <mxRectangle width="634" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-20" value="运行模块后可以利用gdb打断点&lt;br&gt;因此认为环境配置没问题&lt;br&gt;在linux源码中搜索sys_access没有发现这个函数&lt;br&gt;但是发现了__ia32_sys_access这个函数&lt;br&gt;使用这个函数后可以正确执行" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-17" vertex="1">
          <mxGeometry x="874" width="326" height="90" as="geometry">
            <mxRectangle width="326" height="90" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-21" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=left;" parent="fYQm1WL6vumKPO3vuypY-0" vertex="1">
          <mxGeometry y="410" width="1200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-21" vertex="1">
          <mxGeometry width="240" height="40" as="geometry">
            <mxRectangle width="240" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-23" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-21" vertex="1">
          <mxGeometry x="240" width="634" height="40" as="geometry">
            <mxRectangle width="634" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-24" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;align=left;" parent="fYQm1WL6vumKPO3vuypY-21" vertex="1">
          <mxGeometry x="874" width="326" height="40" as="geometry">
            <mxRectangle width="326" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-25" value="List" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=0;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="ueqvzUvDBRW681NDxKHG-1" vertex="1">
          <mxGeometry x="50" y="450" width="600" height="250" as="geometry" />
        </mxCell>
        <mxCell id="NJa-5nCQPRtqjpg_0-pC-0" value="搜索问题前，先对错误信息进行判断，确定错误范围，然后再搜索，最好不要直接复制粘贴错误信息进行搜索" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;" parent="fYQm1WL6vumKPO3vuypY-25" vertex="1">
          <mxGeometry width="600" height="50" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-26" value="不要死扣问题，20分钟解决不了先放一放，记录问题，然后继续往下看" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;" parent="fYQm1WL6vumKPO3vuypY-25" vertex="1">
          <mxGeometry y="50" width="600" height="50" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-27" value="一步步仔细看，记住自己都做过哪些更改，了解这些更改的影响" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;" parent="fYQm1WL6vumKPO3vuypY-25" vertex="1">
          <mxGeometry y="100" width="600" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fYQm1WL6vumKPO3vuypY-28" value="关于实验环境可能出问题的点：内核配置中的一些选项错误，在menuconfig和.config中修改。&#xa;qemu镜像错误，qemu位数错误，安装错误， 在Makefile和qemu.sh中修改&#xa;docker错误，在Dockerfile" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;" parent="fYQm1WL6vumKPO3vuypY-25" vertex="1">
          <mxGeometry y="130" width="600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjtgAkaJKLDk9gJ6wnqa-0" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;" parent="fYQm1WL6vumKPO3vuypY-25" vertex="1">
          <mxGeometry y="190" width="600" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RSPUwJAlms76wyAhNXJo" name="上下文">
    <mxGraphModel dx="2217" dy="724" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="u8fbRhq5ncsoLbsnx2ep-0" />
        <mxCell id="u8fbRhq5ncsoLbsnx2ep-1" parent="u8fbRhq5ncsoLbsnx2ep-0" />
        <mxCell id="u8fbRhq5ncsoLbsnx2ep-2" value="https://blog.csdn.net/qq_16933601/article/details/107305828" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="u8fbRhq5ncsoLbsnx2ep-1">
          <mxGeometry x="-270" y="300" width="340" height="20" as="geometry" />
        </mxCell>
        <mxCell id="u8fbRhq5ncsoLbsnx2ep-3" value="&lt;span style=&quot;color: rgb(77 , 77 , 77) ; font-family: , &amp;#34;sf ui text&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;wenquanyi micro hei&amp;#34; , sans-serif ; font-size: 16px ; background-color: rgb(255 , 255 , 255)&quot;&gt;一般来讲原子上下文指的是在中断或软中断中，以及在持有自旋锁的时候。&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="u8fbRhq5ncsoLbsnx2ep-1">
          <mxGeometry x="-270" y="120" width="540" height="20" as="geometry" />
        </mxCell>
        <mxCell id="u8fbRhq5ncsoLbsnx2ep-4" value="&lt;span style=&quot;color: rgb(77 , 77 , 77) ; font-family: , &amp;#34;sf ui text&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;wenquanyi micro hei&amp;#34; , sans-serif ; font-size: 16px ; background-color: rgb(255 , 255 , 255)&quot;&gt;对于in_atomic()来说，在启用抢占的情况下，它工作的很好，可以告诉内核目前是否持有自旋锁，是否禁用抢占等。&lt;br&gt;但是，在没有启用抢占的情况 下，spin_lock根本不修改preempt_count，&lt;br&gt;所以即使内核调用了spin_lock，持有了自旋锁，in_atomic()仍然会返回 0，错误的告诉内核目前在非原子上下文中。&lt;br&gt;所以凡是依赖in_atomic()来判断是否在原子上下文的代码，在禁抢占的情况下都是有问题&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="u8fbRhq5ncsoLbsnx2ep-1">
          <mxGeometry x="-270" y="150" width="830" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
